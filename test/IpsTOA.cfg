process TrackOriginAnalyzerTest = {

    #event source
    source = PoolSource {
      untracked vstring fileNames = {''}
    }

    untracked PSet maxEvents = {untracked int32 input = 100}

replace PoolSource.fileNames = {
'/store/relval/2008/2/11/RelVal-RelValTTbar-1202721222/0000/06D6FF94-F0D8-DC11-8AC0-000423D9939C.root',
'/store/relval/2008/2/11/RelVal-RelValTTbar-1202721222/0000/0C4109D0-C2D8-DC11-B8BC-000423D95220.root',
'/store/relval/2008/2/11/RelVal-RelValTTbar-1202721222/0000/0CDA1E58-C3D8-DC11-9D4B-000423D99896.root',
'/store/relval/2008/2/11/RelVal-RelValTTbar-1202721222/0000/305F72A3-C1D8-DC11-BB4C-001617C3B66C.root',
'/store/relval/2008/2/11/RelVal-RelValTTbar-1202721222/0000/38E7D280-C1D8-DC11-9161-001617C3B6DC.root',
'/store/relval/2008/2/11/RelVal-RelValTTbar-1202721222/0000/3E90256B-C1D8-DC11-B562-0030487C6032.root',
'/store/relval/2008/2/11/RelVal-RelValTTbar-1202721222/0000/4496EE44-C2D8-DC11-9A3C-000423D990CC.root',
'/store/relval/2008/2/11/RelVal-RelValTTbar-1202721222/0000/60023171-C1D8-DC11-9C5A-001617E30CC8.root',
'/store/relval/2008/2/11/RelVal-RelValTTbar-1202721222/0000/6CDEB4B8-DBD8-DC11-8432-000423D98800.root',
'/store/relval/2008/2/11/RelVal-RelValTTbar-1202721222/0000/74E31169-C1D8-DC11-8CEC-00304879EE06.root',
'/store/relval/2008/2/11/RelVal-RelValTTbar-1202721222/0000/768B7CD6-DAD8-DC11-B265-000423D99CEE.root',
'/store/relval/2008/2/11/RelVal-RelValTTbar-1202721222/0000/98708B10-DBD8-DC11-B402-000423D6B328.root',
'/store/relval/2008/2/11/RelVal-RelValTTbar-1202721222/0000/AC324020-C3D8-DC11-B189-00304879F93E.root',
'/store/relval/2008/2/11/RelVal-RelValTTbar-1202721222/0000/DA594A5E-C1D8-DC11-ABFF-001617E30CC8.root',
'/store/relval/2008/2/11/RelVal-RelValTTbar-1202721222/0000/DCA695D0-E6D8-DC11-99FE-000423D985E4.root',
'/store/relval/2008/2/11/RelVal-RelValTTbar-1202721222/0000/E4FF5F6B-C1D8-DC11-9172-0030487C633A.root',
'/store/relval/2008/2/11/RelVal-RelValTTbar-1202721222/0000/F222296C-C1D8-DC11-91C3-0030487BF6E6.root'
}

    # Message logger
    include "FWCore/MessageLogger/data/MessageLogger.cfi"

    # Particle data table
    include "SimGeneral/HepPDTESSource/data/pythiapdt.cfi" 

    # Track analysis tools
    include "SimGeneral/TrackingAnalysis/data/trackingParticles.cfi"
    # replace trackingtruth.HepMCDataLabels = {"source"}

    # Track Associators
    include "SimTracker/TrackAssociation/data/TrackAssociatorByChi2.cfi"
    include "SimTracker/TrackAssociation/data/TrackAssociatorByHits.cfi"
 
    # Magnetic Field, Geometry, TransientTracks
    include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"
    include "TrackingTools/TransientTrack/data/TransientTrackBuilder.cfi"

    # TrackCounting b tagging
    include "RecoBTag/ImpactParameter/data/impactParameter.cfi"
    replace impactParameterTagInfos.computeProbabilities = false

    # Removing TC fileter options
    # replace trackCountingJetTags.AlgorithmPSet.MaximumTransverseImpactParameter = 9999
    # replace trackCountingJetTags.AlgorithmPSet.MaximumDecayLength = 9999
    # replace trackCountingJetTags.AlgorithmPSet.MaximumLongitudinalImpactParameter = 9999
    # replace trackCountingJetTags.AlgorithmPSet.MaximumDistanceToJetAxis = 9999

    module trackOriginAnalyzer = IpsTOA
    {
      // Insert track history parameters
      include "SimTracker/TrackHistory/data/TrackHistory.cff"

      # trackCountingJetTag source for analysis with IPS filter
      string tagInfoCollection = "impactParameterTagInfos" 
  
      # output file 
      string rootFile = "file:test.root"

      # run the analysis per each jet(no jet overlap) 
      bool insideJet = true
      # false = count particle and antiparticle as the same type
      # true = caount particle and antiparticle as different type
      bool antiparticles = false
      # if true origin up to status 2 
      bool status2 = false 

      PSet analysis1 = {
        bool ips2d = false
        double minIps = 0.0
        double maxIps = 35.0
        vstring veto = {}
      }

      PSet analysis2 = {
        bool ips2d = false
        double minIps = 4.0
        double maxIps = 35.0
        vstring veto = {}
      }
   }

   # module execution
   path p = { impactParameterTagInfos, trackOriginAnalyzer }
}

