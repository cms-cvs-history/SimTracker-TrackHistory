process TrackOriginAnalyzerTest = {

    #event source
    source = PoolSource {
      untracked vstring fileNames = {''}
    }

    untracked PSet maxEvents = {untracked int32 input = 100}

replace PoolSource.fileNames = {
'/store/mc/2007/9/11/RelVal-RelValBJets_Pt_50_120-1189522824/0000/00878165-1161-DC11-A7E3-003048754FB3.root',
'/store/mc/2007/9/11/RelVal-RelValBJets_Pt_50_120-1189522824/0000/18C0ABB2-EE60-DC11-A394-001731AF698F.root',
'/store/mc/2007/9/11/RelVal-RelValBJets_Pt_50_120-1189522824/0000/24339CAC-F860-DC11-B085-0018F3D0962C.root',
'/store/mc/2007/9/11/RelVal-RelValBJets_Pt_50_120-1189522824/0000/4A59D7F4-F160-DC11-BD4A-00304875AACB.root',
'/store/mc/2007/9/11/RelVal-RelValBJets_Pt_50_120-1189522824/0000/4E912D4E-E860-DC11-9CD8-0018F3D09600.root',
'/store/mc/2007/9/11/RelVal-RelValBJets_Pt_50_120-1189522824/0000/662D1C5D-EB60-DC11-B44D-001731AF68CF.root',
'/store/mc/2007/9/11/RelVal-RelValBJets_Pt_50_120-1189522824/0000/9652C4B1-EE60-DC11-824F-001731AF684D.root',
'/store/mc/2007/9/11/RelVal-RelValBJets_Pt_50_120-1189522824/0000/B0A7AFA7-EE60-DC11-86AD-001731A28675.root',
'/store/mc/2007/9/11/RelVal-RelValBJets_Pt_50_120-1189522824/0000/D691D05B-EB60-DC11-B1C9-001A92810ADE.root'
}

    # Message logger
    include "FWCore/MessageLogger/data/MessageLogger.cfi"

    # Particle data table
    include "SimGeneral/HepPDTESSource/data/pythiapdt.cfi" 

    # Track analysis tools
    include "SimGeneral/TrackingAnalysis/data/trackingParticles.cfi"
    # replace trackingtruth.HepMCDataLabels = {"source"}

    # Track Associators
    include "SimTracker/TrackAssociation/data/TrackAssociatorByChi2.cfi"
    include "SimTracker/TrackAssociation/data/TrackAssociatorByHits.cfi"
 
    # Magnetic Field, Geometry, TransientTracks
    include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"
    include "TrackingTools/TransientTrack/data/TransientTrackBuilder.cfi"

    # Tracks to jets association
    include "RecoBTau/JetTracksAssociator/data/jetTracksAssociator.cfi"
    # replace jetTracksAssociator.tracks = "rsWithMaterialTracks"

    # TrackCounting b tagging
    include "RecoBTag/TrackCounting/data/trackCounting.cfi"
    # replace trackCountingJetTags.primaryVertex = "offlinePrimaryVerticesFromRSTracks"

    # Removing TC fileter options
    # replace trackCountingJetTags.AlgorithmPSet.MaximumTransverseImpactParameter = 9999
    # replace trackCountingJetTags.AlgorithmPSet.MaximumDecayLength = 9999
    # replace trackCountingJetTags.AlgorithmPSet.MaximumLongitudinalImpactParameter = 9999
    # replace trackCountingJetTags.AlgorithmPSet.MaximumDistanceToJetAxis = 9999

    module trackOriginAnalyzer = IpsTOA
    {
      # CTF track collection (default reconstruction)
      string trackCollection = "ctfWithMaterialTracks"
      # RF track collection (Root search reconstruction)
      # string trackCollection = "rsWithMaterialTracks"

      # trackCountingJetTag source for analysis with IPS filter
      string jetTagCollection  = "trackCountingJetTags" 
  
      # output file 
      string rootFile = "file:test.root"

      # run the analysis per each jet(no jet overlap) 
      bool insideJet = true
      # false = count particle and antiparticle as the same type
      # true = caount particle and antiparticle as different type
      bool antiparticles = false
      # association by Hits or by Chi2
      bool associationByHits = true
      # if true origin up to status 2 
      bool status2 = true 

      PSet analysis1 = {
        bool ips2d = false
        double minIps = 0.0
        double maxIps = 35.0
        vstring veto = {}
      }

      PSet analysis2 = {
        bool ips2d = false
        double minIps = 4.0
        double maxIps = 35.0
        vstring veto = {}
      }
   }

   # module execution
   path p = { jetTracksAssociator, trackCountingTagInfos, trackOriginAnalyzer }
}

