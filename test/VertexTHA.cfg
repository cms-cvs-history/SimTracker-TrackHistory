process TrackOriginAnalyzerTest = {

    #event source
    source = PoolSource {
      untracked vstring fileNames = {
       'file:/uscms_data/d1/baites/analysis/Reconstruction/reco_mc-onsel-120_Incl_ttbar.root' 
      }
      untracked int32 maxEvents = -1
    }

    replace PoolSource.fileNames = {
      '/store/RelVal/2007/4/10/RelVal131QCD_pt50_80/0000/2C8CB94A-28E8-DB11-ACC4-00304875AA0F.root',
      '/store/RelVal/2007/4/10/RelVal131QCD_pt50_80/0000/F45150C8-AEE7-DB11-8FFC-001731A2832F.root',
      '/store/RelVal/2007/4/10/RelVal131QCD_pt50_80/0000/86A820D7-AFE7-DB11-BA31-003048769DB9.root'
    }

    # Message logger
    include "FWCore/MessageLogger/data/MessageLogger.cfi"

    # Particle data table
    include "SimGeneral/HepPDTESSource/data/pythiapdt.cfi" 

    # Track analysis tools
    include "SimGeneral/TrackingAnalysis/data/trackingtruth.cfi"
    replace trackingtruth.HepMCDataLabels = {"source"}

    # Track Associators
    include "SimTracker/TrackAssociation/data/TrackAssociatorByChi2.cfi"
    include "SimTracker/TrackAssociation/data/TrackAssociatorByHits.cfi"
 
    # Magnetic Field, Geometry, TransientTracks
    include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"
    include "TrackingTools/TransientTrack/data/TransientTrackBuilder.cfi"

    module trackHistoryAnalyzer = VertexTHA 
    {
      # tracking particle sources need to be always defined.
      vstring trackingParticleCollection  = { 
        "trackingtruth","TrackTruth"
      }
      
      # CTF track collection (default reconstruction)
      string trackCollection = "ctfWithMaterialTracks"
      # RF track collection (Root search reconstruction)
      # string trackCollection = "rsWithMaterialTracks"
      # association by Hits or by Chi2
      bool associationByHits = true

      # output file 
      string rootFile  = "file:test.root"
      double sourceCut = 0.001
   }

   # module execution
   #path p = { trackingtruth, trackHistoryAnalyzer }
  
    path p = { trackHistoryAnalyzer }
}

